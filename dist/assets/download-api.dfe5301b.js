import{ae as a,ag as r,af as i}from"./index.154e9cc6.js";function u(t){if(t.indexOf("filename*=")!==-1)return decodeURIComponent(t.split("filename*=")[1].split("'")[2]);let e=t.split("filename=")[1];return e=e.replace(/^["']|["']$/g,""),e}function p({page:t,limit:e,sortBy:o="updated_at",sortOrder:c="desc",query:n,sources:s,tags:l}){return a.get("/downloads",{params:{page:t,limit:e,query:n,sources:s,tags:l,order_by:o,order_direction:c},paramsSerializer:d=>i.stringify(d,{arrayFormat:"repeat",skipNulls:!0})}).then(d=>d.data).catch(d=>Promise.reject(r(d)))}function w(t){return a({method:"post",url:"/downloads",data:t,headers:{"Content-Type":"multipart/form-data"}})}function h(t){return a.get(`/downloads/${t}/download`,{responseType:"blob"}).then(e=>{const o=new Blob([e.data],{type:e.headers["content-type"]}),c=window.URL.createObjectURL(o),n=document.createElement("a");n.href=c;const s=u(e.headers["content-disposition"]);console.warn(s),console.warn(e.headers["content-disposition"]),n.setAttribute("download",s),document.body.appendChild(n),n.click(),document.body.removeChild(n)}).catch(e=>Promise.reject(r(e)))}function f(t){return a.get(`/downloads/${t}/download`,{responseType:"blob"}).then(e=>{const o=new Blob([e.data],{type:e.headers["content-type"]});return window.URL.createObjectURL(o)}).catch(e=>Promise.reject(r(e)))}function b(t){return a.get(`/downloads/${t}/download`,{responseType:"text"}).then(e=>e.data).catch(e=>Promise.reject(r(e)))}function g(t,e){return a.delete(`downloads/${t}/tags/${e}`).catch(o=>Promise.reject(r(o)))}function y(t,e){return a.put(`downloads/${t}/tags/${e.id}`,e).then(({data:o})=>o).catch(o=>Promise.reject(r(o)))}function j(t,e){return a.post(`downloads/${t}/tags`,e).then(({data:o})=>o).catch(o=>Promise.reject(r(o)))}export{b as a,h as b,w as c,f as d,g as e,j as f,p as g,y as u};
